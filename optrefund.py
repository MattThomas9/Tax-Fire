# ================================================= Optimize Refund ================================================== #
# ============================================== Developer: Matt Thomas ============================================== #
# ============================================ Build Date: Feb. 01, 2019 ============================================= #
# ==================================================================================================================== #
# -------------------------------------------------------------------------------------------------------------------- #
from copy import deepcopy


def optrefund(wthld, refun, numpp, ipp):
    wthldnew = deepcopy(wthld)
    if ipp < numpp:
        wthldadj = refun / (numpp - ipp)
        for i in range(ipp, numpp):
            wthldnew[i][1] = round(wthld[i][1] - wthldadj, 2)
    return wthldnew
